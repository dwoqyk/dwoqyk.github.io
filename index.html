<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ó–∞—è–≤–∫–∞ –Ω–∞ –∑–∞–Ω—è—Ç–∏—è</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    :root{
      --bg: var(--tg-theme-bg-color, #0b1220);
      --card: var(--tg-theme-secondary-bg-color, rgba(255,255,255,0.06));
      --border: var(--tg-theme-hint-color, rgba(255,255,255,0.12));
      --text: var(--tg-theme-text-color, #fff);
      --hint: var(--tg-theme-hint-color, rgba(255,255,255,.85));
      --brand: var(--tg-theme-link-color, #3aa0ff);
      --accent: #ffb020;
      --shadow: 0 12px 30px rgba(0,0,0,.25);
      --radius: 16px;
      --input-bg: var(--tg-theme-secondary-bg-color, rgba(255,255,255,0.08));
    }
    *{box-sizing:border-box}
    body{
      margin:0; padding:18px;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Arial;
      background: radial-gradient(1200px 600px at 10% -10%, rgba(58,160,255,.25), transparent 60%),
                  radial-gradient(1000px 600px at 110% 10%, rgba(255,176,32,.18), transparent 60%),
                  var(--bg);
      color: var(--text);
    }
    h1{ margin: 0 0 10px; font-size: 20px; letter-spacing:.2px; }
    .sub{ opacity:.9; font-size:13px; margin-bottom:12px;}
    .top-actions{ display:flex; gap:8px; margin-bottom:12px; }
    .pill{
      display:inline-flex; align-items:center; gap:6px;
      padding:8px 10px; font-size:13px; border-radius:999px;
      background: rgba(255,255,255,.08); border:1px solid var(--border);
      cursor:pointer; user-select:none;
    }
    .pill:hover{ background: rgba(255,255,255,.12); }
    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px;
      margin-bottom: 12px;
      box-shadow: var(--shadow);
    }
    label{display:block; font-size:13px; opacity:.95; margin-bottom:6px;}
    select, input, textarea{
      width: 100%;
      padding: 11px 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: var(--input-bg);
      color: var(--text); outline:none;
    }
    select:focus, input:focus, textarea:focus {
      border-color: var(--brand);
    }
    select option {
      background: var(--tg-theme-bg-color, #0b1220);
      color: var(--text);
    }
    select optgroup {
      background: var(--tg-theme-bg-color, #0b1220);
      color: var(--hint);
      font-weight: 600;
    }
    textarea{min-height:100px; resize:vertical;}
    .row{ display:grid; grid-template-columns: 1fr 1fr; gap:12px;}
    .muted{font-size:12px; color: var(--hint); margin-top:6px}
    .hidden{display:none;}
    /* FAQ */
    details{
      background: rgba(255,255,255,.05);
      border:1px solid var(--border);
      border-radius:12px; padding:10px 12px; margin-bottom:8px;
    }
    details[open]{ background: rgba(255,255,255,.07); }
    summary{
      list-style:none; cursor:pointer; font-size:14px; font-weight:600; display:flex; align-items:center; gap:8px;
    }
    summary::-webkit-details-marker{ display:none; }
    .faq-icon{ width:18px; height:18px; border-radius:999px; display:inline-flex; align-items:center; justify-content:center; background:rgba(58,160,255,.25); }
    .faq-body{ font-size:13px; opacity:.95; margin-top:8px; line-height:1.45; }
    .faq-badge{ display:inline-block; padding:2px 8px; border-radius:999px; background:rgba(58,160,255,.18); color:#bfe1ff; font-size:12px; margin-left:6px;}
    .code{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; background: rgba(255,255,255,.12); padding:1px 6px; border-radius:6px;}
  </style>
</head>
<body>
  <h1>–ó–∞—è–≤–∫–∞ –Ω–∞ –∑–∞–Ω—è—Ç–∏—è</h1>
  <div class="sub">–ü–∞—Ä–∞ –∫–ª–∏–∫–æ–≤ ‚Äî –∏ –º—ã –Ω–∞—á–Ω—ë–º –ø–æ–¥–±–æ—Ä –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞. <br> –°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ.</div>

  <div class="top-actions">
    <a class="pill" href="#how-it-works" onclick="setTimeout(()=>document.getElementById('how-it-works').open=true, 0)">
      <span>üîÑ</span> <span>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</span>
    </a>
    <a class="pill" href="#faq" onclick="setTimeout(()=>document.getElementById('faq').open=true, 0)">
      <span>‚ÑπÔ∏è</span> <span>–ü–æ–º–æ—â—å –∏ FAQ</span>
    </a>
  </div>

  <!-- –ü–†–ï–î–ú–ï–¢ -->
  <div class="card">
    <label>–ü—Ä–µ–¥–º–µ—Ç</label>
    <select id="subject" onchange="toggleSubjectCustom()">
      <optgroup label="–Ø–∑—ã–∫–∏">
        <option>–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫</option>
        <option>–†—É—Å—Å–∫–∏–π —è–∑—ã–∫</option>
        <option>–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</option>
        <option>–ù–µ–º–µ—Ü–∫–∏–π —è–∑—ã–∫</option>
        <option>–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π —è–∑—ã–∫</option>
        <option>–ò—Å–ø–∞–Ω—Å–∫–∏–π —è–∑—ã–∫</option>
        <option>–ö–∏—Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫</option>
        <option>–ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π —è–∑—ã–∫</option>
      </optgroup>
      <optgroup label="–¢–æ—á–Ω—ã–µ –Ω–∞—É–∫–∏">
        <option>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</option>
        <option>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –û–ì–≠</option>
        <option>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –ï–ì–≠</option>
        <option>–§–∏–∑–∏–∫–∞</option>
        <option>–•–∏–º–∏—è</option>
        <option>–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ / –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
      </optgroup>
      <optgroup label="–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ">
        <option>–ë–∏–æ–ª–æ–≥–∏—è</option>
        <option>–ì–µ–æ–≥—Ä–∞—Ñ–∏—è</option>
        <option>–ò—Å—Ç–æ—Ä–∏—è</option>
        <option>–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ</option>
        <option>–≠–∫–æ–Ω–æ–º–∏–∫–∞</option>
      </optgroup>
      <optgroup label="–®–∫–æ–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –ø—Ä–æ—á–µ–µ">
        <option>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —à–∫–æ–ª–µ</option>
        <option>–õ–æ–≥–æ–ø–µ–¥</option>
      </optgroup>
      <optgroup label="–î—Ä—É–≥–æ–µ">
        <option>–ù–∞–ø–∏—Å–∞—Ç—å –≤—Ä—É—á–Ω—É—é</option>
      </optgroup>
    </select>
    <input id="subject_custom" class="hidden" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä: —ç–∫–æ–Ω–æ–º–∏–∫–∞, –ª–æ–≥–æ–ø–µ–¥ –∏ —Ç.–¥.)" />
    <div class="muted">–ù–µ –Ω–∞—à–ª–∏? –í—ã–±–µ—Ä–∏—Ç–µ ¬´–ù–∞–ø–∏—Å–∞—Ç—å –≤—Ä—É—á–Ω—É—é¬ª –∏ —É–∫–∞–∂–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç —Å–∞–º–∏.</div>
  </div>

  <!-- –£–ß–ï–ù–ò–ö -->
  <div class="card">
    <label>–ö—Ç–æ —É—á–µ–Ω–∏–∫</label>
    <select id="student" onchange="toggleStudentCustom()">
      <option>–ù–∞—á–∞–ª—å–Ω–∞—è —à–∫–æ–ª–∞</option>
      <option>–°—Ä–µ–¥–Ω—è—è —à–∫–æ–ª–∞</option>
      <option>–°—Ç–∞—Ä—à–∞—è —à–∫–æ–ª–∞</option>
      <option>–°—Ç—É–¥–µ–Ω—Ç</option>
      <option>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º (–û–ì–≠/–ï–ì–≠)</option>
      <option>–í–∑—Ä–æ—Å–ª—ã–π</option>
      <option>–ù–∞–ø–∏—Å–∞—Ç—å –≤—Ä—É—á–Ω—É—é</option>
    </select>
    <input id="student_custom" class="hidden" type="text" placeholder="–û–ø–∏—à–∏—Ç–µ: –∫–ª–∞—Å—Å/–≤–æ–∑—Ä–∞—Å—Ç/—Å—Ç–∞—Ç—É—Å ‚Äî –∫–∞–∫ —É–¥–æ–±–Ω–æ" />
    <div class="muted">–ú–æ–∂–Ω–æ –∫—Ä–∞—Ç–∫–æ: ¬´5 –∫–ª–∞—Å—Å¬ª, ¬´11 –∫–ª–∞—Å—Å (–ø—Ä–æ—Ñ–∏–ª—å)¬ª, ¬´–≤–∑—Ä–æ—Å–ª—ã–π: —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π¬ª.</div>
  </div>

  <!-- –°–¢–ê–í–ö–ê/–ë–Æ–î–ñ–ï–¢ + –ó–ê–ù–Ø–¢–ò–ô -->
  <div class="row">
    <div class="card">
      <label>–ë—é–¥–∂–µ—Ç</label>
      <select id="rate" onchange="toggleRateCustom()">
        <option>–î–æ 700 ‚ÇΩ</option>
        <option>700‚Äì1000 ‚ÇΩ</option>
        <option>1000‚Äì1500 ‚ÇΩ</option>
        <option>1500‚Äì2000 ‚ÇΩ</option>
        <option>2000‚Äì3000 ‚ÇΩ</option>
        <option>3000+ ‚ÇΩ</option>
        <option>–£–∫–∞–∂—É —Å—É–º–º—É –≤—Ä—É—á–Ω—É—é</option>
        <option>–ü–æ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏</option>
      </select>
      <input id="rate_custom" class="hidden" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 1200 ‚ÇΩ –∑–∞ 60 –º–∏–Ω—É—Ç –∏–ª–∏ 1800 ‚ÇΩ –∑–∞ 90 –º–∏–Ω—É—Ç" />
      <div class="muted">–ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—Ç–µ—Å—å ‚Äî –æ—Å—Ç–∞–≤—å—Ç–µ ¬´–ü–æ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏¬ª. –ú—ã –ø–æ–¥—Å–∫–∞–∂–µ–º —Ä—ã–Ω–æ–∫ –ø–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É.</div>
    </div>

    <div class="card">
      <label>–ó–∞–Ω—è—Ç–∏–π –≤ –Ω–µ–¥–µ–ª—é</label>
      <select id="lessons">
        <option>1 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é</option>
        <option selected>2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é</option>
        <option>3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é</option>
        <option>–ü–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏</option>
      </select>
    </div>
  </div>

  <!-- –ü–û–ñ–ï–õ–ê–ù–ò–Ø -->
  <div class="card">
    <label>–ü–æ–∂–µ–ª–∞–Ω–∏—è</label>
    <textarea id="comment" placeholder="–û–Ω–ª–∞–π–Ω/–æ—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç, –¥–Ω–∏ –Ω–µ–¥–µ–ª–∏, —É–ø–æ—Ä –Ω–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫—É, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ï–ì–≠/–û–ì–≠"></textarea>
    <div class="muted">–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —É—á–µ–±–Ω–∏–∫ (¬´–ü–µ—Ç–µ—Ä—Å–æ–Ω¬ª), –∂–µ–ª–∞–µ–º—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Ä–æ–∫–∞ (60/90 –º–∏–Ω) –∏ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å.</div>
  </div>

  <!-- –ö–û–ù–¢–ê–ö–¢ -->
  <div class="card">
    <label>–ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è —Å–≤—è–∑–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
    <input id="contact" type="text" placeholder="@username –∏–ª–∏ +71234567890 (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º)" />
  </div>

  <!-- FAQ -->
  <div class="card">
    <details id="faq">
      <summary><span class="faq-icon">‚ÑπÔ∏è</span> –ü–æ–¥—Å–∫–∞–∑–∫–∏ –∏ FAQ</summary>
      <div class="faq-body">
        <p><b>–ö–∞–∫ –±—ã—Å—Ç—Ä–æ —Å–æ –º–Ω–æ–π —Å–≤—è–∂—É—Ç—Å—è?</b><br>
        –û–±—ã—á–Ω–æ –≤ —Ç–µ—á–µ–Ω–∏–µ 1‚Äì3 —á–∞—Å–æ–≤ –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è. –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–∏—à—ë–ª –≤–µ—á–µ—Ä–æ–º, –æ—Ç–≤–µ—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Ç—Ä–æ–º.</p>

        <p><b>–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å –±—é–¥–∂–µ—Ç?</b><br>
        –û—Ä–∏–µ–Ω—Ç–∏—Ä—ã –ø–æ —Ä—ã–Ω–∫—É: –Ω–∞—á–∞–ª—å–Ω–∞—è —à–∫–æ–ª–∞ ‚Äî 700‚Äì1200 ‚ÇΩ/—á–∞—Å, —Å—Ä–µ–¥–Ω–∏–µ –∫–ª–∞—Å—Å—ã ‚Äî 1000‚Äì1500 ‚ÇΩ,
        —Å—Ç–∞—Ä—à–∏–µ –∫–ª–∞—Å—Å—ã/–ï–ì–≠ ‚Äî 1500‚Äì2500 ‚ÇΩ, —è–∑—ã–∫–∏ —Å –Ω–æ—Å–∏—Ç–µ–ª–µ–º ‚Äî –æ—Ç 2000 ‚ÇΩ. –ï—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã ‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ
        ¬´–ü–æ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏¬ª, –∏ –º—ã –ø–æ—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω –ø–æ–¥ –≤–∞—à—É –∑–∞–¥–∞—á—É.</p>

        <p><b>–ß—Ç–æ —É–∫–∞–∑–∞—Ç—å –≤ ¬´–ü–æ–∂–µ–ª–∞–Ω–∏—è—Ö¬ª?</b><br>
        –§–æ—Ä–º–∞—Ç (–æ–Ω–ª–∞–π–Ω/–æ—á–Ω–æ), –¥–Ω–∏/–≤—Ä–µ–º—è, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (60/90 –º–∏–Ω), —É—á–µ–±–Ω–∏–∫ (¬´–ü–µ—Ç–µ—Ä—Å–æ–Ω¬ª, ¬´–ú–µ—Ä–∑–ª—è–∫¬ª),
        –∞–∫—Ü–µ–Ω—Ç (–≥—Ä–∞–º–º–∞—Ç–∏–∫–∞/–ø—Ä–∞–∫—Ç–∏–∫–∞/–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ï–ì–≠/–û–ì–≠), —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å. –ü—Ä–∏–º–µ—Ä:
        <span class="code">–æ–Ω–ª–∞–π–Ω, –≤—Ç/—á—Ç 18:00 –º—Å–∫, 60 –º–∏–Ω, –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫—É, —É—á–µ–±–Ω–∏–∫ –ü–µ—Ç–µ—Ä—Å–æ–Ω</span>.</p>

        <p><b>–ù—É–∂–µ–Ω –ª–∏ @username?</b><br>
        –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å @username ‚Äî –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å ¬´–ö–æ–Ω—Ç–∞–∫—Ç¬ª –ø—É—Å—Ç—ã–º: –º—ã –ø–æ–¥—Å—Ç–∞–≤–∏–º –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
        –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —É–∫–∞–∂–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ <span class="code">+7XXXXXXXXXX</span>.</p>

        <p><b>–ö–∞–∫ –ø–æ—Å—Ç–∞–≤–∏—Ç—å @username?</b><br>
        Telegram ‚Üí <i>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</i> ‚Üí <i>–ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</i> ‚Üí <i>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</i> ‚Üí –≤–≤–µ–¥–∏—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –±–µ–∑ ¬´@¬ª ‚Üí –°–æ—Ö—Ä–∞–Ω–∏—Ç—å.
        –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å ‚Äî –º—ã —É–≤–∏–¥–∏–º –≤–∞—à username –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</p>

      </div>
    </details>
  </div>

  <script>
    const tg = window.Telegram?.WebApp;
    tg?.expand();

    // –ê–≤—Ç–æ–ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–∞ –ø–æ username
    const user = tg?.initDataUnsafe?.user;
    if (user?.username) {
      document.getElementById('contact').placeholder = "@" + user.username + " (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º)";
    }

    function toggleSubjectCustom(){
      const sel = document.getElementById('subject');
      const inp = document.getElementById('subject_custom');
      inp.classList.toggle('hidden', sel.value !== '–ù–∞–ø–∏—Å–∞—Ç—å –≤—Ä—É—á–Ω—É—é');
    }
    function toggleStudentCustom(){
      const sel = document.getElementById('student');
      const inp = document.getElementById('student_custom');
      inp.classList.toggle('hidden', sel.value !== '–ù–∞–ø–∏—Å–∞—Ç—å –≤—Ä—É—á–Ω—É—é');
    }
    function toggleRateCustom(){
      const sel = document.getElementById('rate');
      const inp = document.getElementById('rate_custom');
      inp.classList.toggle('hidden', sel.value !== '–£–∫–∞–∂—É —Å—É–º–º—É –≤—Ä—É—á–Ω—É—é');
    }

    function getForm(){
      const subject = document.getElementById('subject').value;
      const student = document.getElementById('student').value;
      const rate    = document.getElementById('rate').value;

      return {
        subject,
        subject_custom: subject === '–ù–∞–ø–∏—Å–∞—Ç—å –≤—Ä—É—á–Ω—É—é'
          ? (document.getElementById('subject_custom').value || "").trim()
          : "",

        student,
        student_custom: student === '–ù–∞–ø–∏—Å–∞—Ç—å –≤—Ä—É—á–Ω—É—é'
          ? (document.getElementById('student_custom').value || "").trim()
          : "",

        rate,
        rate_custom: rate === '–£–∫–∞–∂—É —Å—É–º–º—É –≤—Ä—É—á–Ω—É—é'
          ? (document.getElementById('rate_custom').value || "").trim()
          : "",

        lessons: document.getElementById('lessons').value,
        comment: (document.getElementById('comment').value || "").trim(),
        contact: (document.getElementById('contact').value || "").trim(),
      };
    }

    // –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞
    tg?.MainButton.setText("–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É");
    tg?.MainButton.show();

    tg?.onEvent('mainButtonClicked', () => {
      const data = getForm();

      // –±–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
      const req = ["subject","student","rate","lessons"];
      for (const k of req) {
        if (!data[k] || !String(data[k]).trim()) {
          tg.showAlert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è.");
          return;
        }
      }
      if (data.subject === '–ù–∞–ø–∏—Å–∞—Ç—å –≤—Ä—É—á–Ω—É—é' && !data.subject_custom) {
        tg.showAlert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç –≤—Ä—É—á–Ω—É—é.");
        return;
      }
      if (data.student === '–ù–∞–ø–∏—Å–∞—Ç—å –≤—Ä—É—á–Ω—É—é' && !data.student_custom) {
        tg.showAlert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–ø–∏—à–∏—Ç–µ, –∫—Ç–æ —É—á–µ–Ω–∏–∫.");
        return;
      }
      if (data.rate === '–£–∫–∞–∂—É —Å—É–º–º—É –≤—Ä—É—á–Ω—É—é' && !data.rate_custom) {
        tg.showAlert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –≤–∞—à—É —Å—É–º–º—É.");
        return;
      }

      const phoneRe = /^\+\d{10,15}$/;
      if (data.contact && !(data.contact.startsWith("@") || phoneRe.test(data.contact))) {
        tg.showAlert("–í–≤–µ–¥–∏—Ç–µ @username –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ +71234567890 (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª–µ –ø—É—Å—Ç—ã–º).");
        return;
      }

      tg.sendData(JSON.stringify(data));
      tg.close();
    });
  </script>
</body>
</html>
